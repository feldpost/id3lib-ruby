<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>
  <title>id3lib-ruby</title>

  <meta name="author" content="Robin Stocker" />
  <meta name="keywords" content="id3lib-ruby,ruby,id3lib,id3,mp3,tag,tags" />

  <link rel="stylesheet" type="text/css" href="red.css" />
</head>

<body>


<div id="title">
  <h1>id3lib-ruby</h1>
  <img src="logo.png" alt="id3lib-ruby logo" />
</div>

<hr class="red" />

<div id="navigation">
  <a href="#installation">#Installation</a>
  <a href="#usage">#Usage</a>
  <a href="doc/index.html">Documentation</a>
  <a href="http://rubyforge.org/projects/id3lib-ruby/">RubyForge project</a>
</div>


<p>
id3lib-ruby provides a Ruby interface to the <a
href="http://id3lib.sourceforge.net/">id3lib</a> C++ library for
easily editing <a href="http://www.id3.org/">ID3</a> tags (v1 and v2) like
with pyid3lib.
</p>

<p>
Note that id3lib has to be installed in order to use id3lib-ruby, unless you
are on Windows and use the provided binary gem.
</p>


<h2>Features</h2>

<ul>
  <li>Read and write ID3v1 and ID3v2 tags</li>
  <li>Simple interface for adding, changing and removing frames</li>
  <li>Quick access to common text frames like title and performer</li>
  <li>Custom data frames like attached picture (APIC)</li>
  <li>Pretty complete coverage of id3lib's features</li>
  <li>UTF-16 support <em>(warning: id3lib writes broken UTF-16 frames)</em></li>
  <li>Windows binary gem available</li>
</ul>

<p>
Have a look at the <a href="doc/files/TODO.html">to-do list</a> for planned
features.
</p>


<h2 id="installation">Installation</h2>

<h3>Binary package (Windows only)</h3>

<p>
There are precompiled binary gems available for Windows, so the installation
is as simple as typing
</p>

<pre>gem install id3lib-ruby</pre>

<p>
and selecting the newest mswin32 gem.
</p>

<h3>Source package</h3>

<p>
Because id3lib-ruby is just an interface or wrapper, you need to
have the id3lib library and header files on your system in order to use it.
You also need a C++ compiler.
</p>

<p>
Install id3lib with your package manager, or
<a href="http://sourceforge.net/projects/id3lib/">download the id3lib source
code</a> and build it yourself.
</p>

<p>
Next, install id3lib-ruby. When using
<a href="http://rubygems.org/">RubyGems</a>, just do:
</p>

<pre>gem install id3lib-ruby</pre>

<p>
Another way is using the manual installation with setup.rb. When you have
<a href="http://rubyforge.org/projects/id3lib-ruby/">downloaded</a> and
extracted the source code, run the following command with super-user rights.
</p>

<pre>ruby setup.rb</pre>


<h2 id="usage">Usage</h2>

<p>
See the <a href="doc/index.html">documentation</a> for
further explanation.
</p>

<pre>
<span class="ident">require</span> <span class="punct">'</span><span class="string">rubygems</span><span class="punct">'</span>
<span class="ident">require</span> <span class="punct">'</span><span class="string">id3lib</span><span class="punct">'</span>

<span class="comment"># Load a tag from a file</span>
<span class="ident">tag</span> <span class="punct">=</span> <span class="constant">ID3Lib</span><span class="punct">::</span><span class="constant">Tag</span><span class="punct">.</span><span class="ident">new</span><span class="punct">(&quot;</span><span class="string">talk.mp3</span><span class="punct">&quot;)</span>

<span class="comment"># Get and set text frames</span>
<span class="ident">tag</span><span class="punct">.</span><span class="ident">text</span><span class="punct">(</span><span class="symbol">:title</span><span class="punct">)</span>  <span class="comment">#=&gt; &quot;Talk&quot;</span>
<span class="ident">tag</span><span class="punct">.</span><span class="ident">set_text</span><span class="punct">(</span><span class="symbol">:album</span><span class="punct">,</span> <span class="punct">&quot;</span><span class="string">X&amp;Y</span><span class="punct">&quot;)</span>
<span class="ident">tag</span><span class="punct">.</span><span class="ident">set_text</span><span class="punct">(</span><span class="symbol">:track</span><span class="punct">,</span> <span class="punct">'</span><span class="string">5/13</span><span class="punct">')</span>

<span class="comment"># Tag is a subclass of Array and holds Frame objects</span>
<span class="ident">p</span> <span class="ident">tag</span><span class="punct">[</span><span class="number">0</span><span class="punct">]</span>
<span class="comment">#=&gt; #&lt;ID3Lib::Frame:TPE1 textenc=0, text=&quot;Coldplay&quot;&gt;</span>

<span class="comment"># Get the number of frames</span>
<span class="ident">tag</span><span class="punct">.</span><span class="ident">length</span>  <span class="comment">#=&gt; 7</span>

<span class="comment"># Remove all comment frames</span>
<span class="ident">tag</span><span class="punct">.</span><span class="ident">remove_frame</span><span class="punct">(</span><span class="symbol">:comment</span><span class="punct">)</span>

<span class="comment"># Create new APIC frame and find out which fields are allowed</span>
<span class="ident">apic</span> <span class="punct">=</span> <span class="constant">ID3Lib</span><span class="punct">::</span><span class="constant">Frame</span><span class="punct">.</span><span class="ident">new</span><span class="punct">(</span><span class="symbol">:APIC</span><span class="punct">)</span>
<span class="ident">p</span> <span class="ident">apic</span><span class="punct">.</span><span class="ident">allowed_fields</span>
<span class="comment">#=&gt; [:textenc, :mimetype, :picturetype, :description, :data]</span>

<span class="comment"># Set the fields and append to tag</span>
<span class="ident">apic</span><span class="punct">.</span><span class="ident">description</span> <span class="punct">=</span> <span class="punct">&quot;</span><span class="string">A pretty picture</span><span class="punct">&quot;</span>
<span class="ident">apic</span><span class="punct">.</span><span class="ident">textenc</span>     <span class="punct">=</span> <span class="number">0</span>
<span class="ident">apic</span><span class="punct">.</span><span class="ident">data</span>        <span class="punct">=</span> <span class="constant">File</span><span class="punct">.</span><span class="ident">read</span><span class="punct">(&quot;</span><span class="string">cover.jpg</span><span class="punct">&quot;)</span>
<span class="ident">apic</span><span class="punct">.</span><span class="ident">mimetype</span>    <span class="punct">=</span> <span class="punct">'</span><span class="string">image/jpeg</span><span class="punct">'</span>
<span class="ident">apic</span><span class="punct">.</span><span class="ident">picturetype</span> <span class="punct">=</span> <span class="number">3</span>
<span class="ident">tag</span> <span class="punct">&lt;&lt;</span> <span class="ident">apic</span>

<span class="comment"># Last but not least, apply changes</span>
<span class="ident">tag</span><span class="punct">.</span><span class="ident">update!</span>
</pre>


<h2>Contact</h2>

<p>
For bug reports, support requests and feature requests, please use the
appropriate <a href="http://rubyforge.org/tracker/?group_id=1384">tracker on
	RubyForge</a>.
</p>

<p>
For comments or other things, don't hesitate to contact me:
</p>

<ul>
  <li>robinstocker <i>at</i> rubyforge.org</li>
</ul>

<p>
  <br />
  <a href="http://validator.w3.org/check?uri=referer">
    <img src="http://www.w3.org/Icons/valid-xhtml10"
    alt="Valid XHTML 1.0 Strict" height="31" width="88" />
  </a>
  <a href="http://jigsaw.w3.org/css-validator/check/referer">
    <img src="http://jigsaw.w3.org/css-validator/images/vcss"
    alt="Valid CSS!" height="31" width="88" />
  </a>
</p>


</body>
</html>
